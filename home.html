<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#06b6d4">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>DanceBud - Home</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.min.css" rel="stylesheet">
   
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="../css/animations.css">
    
    <style>
        /* Home Screen Specific Styles */
        body {
            background: #0a0a0f;
            color: #ffffff;
            padding-bottom: 80px;
            margin: 0;
        }
        
        
        .app-header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            padding: 20px;
            border-bottom: 1px solid rgba(59, 130, 246, 0.2);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .logo-small {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 10px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
        }
        
        .settings-btn {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .settings-btn:hover {
            background: rgba(59, 130, 246, 0.2);
            border-color: rgba(59, 130, 246, 0.5);
            transform: scale(1.05);
        }
        
        /* Stats Cards */
        .stat-card {
            background: linear-gradient(135deg, rgba(30, 30, 50, 0.8), rgba(20, 20, 35, 0.8));
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            height: 100%;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            border-color: rgba(59, 130, 246, 0.4);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.2);
        }
        
        .stat-card.purple {
            background: linear-gradient(135deg, rgba(60, 30, 80, 0.6), rgba(40, 20, 60, 0.6));
            border-color: rgba(139, 92, 246, 0.3);
        }
        
        .stat-card.teal {
            background: linear-gradient(135deg, rgba(20, 60, 70, 0.6), rgba(10, 40, 50, 0.6));
            border-color: rgba(6, 182, 212, 0.3);
        }
        
        .stat-card.red {
            background: linear-gradient(135deg, rgba(70, 30, 40, 0.6), rgba(50, 20, 30, 0.6));
            border-color: rgba(236, 72, 153, 0.3);
        }
        
        .stat-icon {
            font-size: 32px;
            margin-bottom: 12px;
        }
        
        .stat-value {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .stat-label {
            font-size: 14px;
            color: #94a3b8;
        }
        
        .start-practice-btn {
            background: linear-gradient(135deg, #06b6d4 0%, #8b5cf6 100%);
            border: none;
            border-radius: 20px;
            padding: 24px;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.3s ease;
            box-shadow: 0 10px 40px rgba(6, 182, 212, 0.3);
            margin: 24px 0;
            cursor: pointer;
            color: white;
        }
        
        .start-practice-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 50px rgba(6, 182, 212, 0.5);
        }
        
        .start-practice-content {
            display: flex;
            align-items: center;
        }
        
        .play-icon-wrapper {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 16px;
        }
        
        .play-icon-wrapper i {
            font-size: 28px;
        }
        
        .start-text h3 {
            font-size: 22px;
            font-weight: 700;
            margin: 0 0 4px 0;
        }
        
        .start-text p {
            font-size: 14px;
            margin: 0;
            opacity: 0.9;
        }
        
        .arrow-icon {
            font-size: 24px;
        }
        
        .action-card {
            background: linear-gradient(135deg, rgba(30, 30, 50, 0.6), rgba(20, 20, 35, 0.6));
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 16px;
            padding: 20px;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
            cursor: pointer;
            margin-bottom: 16px;
        }
        
        .action-card:hover {
            background: linear-gradient(135deg, rgba(40, 40, 60, 0.6), rgba(30, 30, 45, 0.6));
            border-color: rgba(59, 130, 246, 0.4);
            transform: translateX(5px);
        }
        
        .action-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(139, 92, 246, 0.2));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 16px;
            flex-shrink: 0;
        }
        
        .action-icon i {
            font-size: 24px;
            color: #3b82f6;
        }
        
        .action-text h4 {
            font-size: 18px;
            font-weight: 600;
            margin: 0;
        }
        
        .action-arrow {
            margin-left: auto;
            color: #64748b;
            font-size: 20px;
        }
        
        .tip-card {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(59, 130, 246, 0.15));
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 16px;
            padding: 20px;
            margin-top: 16px;
        }
        
        .tip-header {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .tip-icon {
            color: #fbbf24;
            font-size: 24px;
            margin-right: 10px;
        }
        
        .tip-title {
            font-size: 18px;
            font-weight: 700;
            color: #fbbf24;
            margin: 0;
        }
        
        .tip-text {
            font-size: 14px;
            color: #cbd5e1;
            line-height: 1.6;
            margin: 0;
        }
        
        /* Responsive Design */
        @media (max-width: 576px) {
            .app-header {
                padding: 16px;
            }
            
            .stat-value {
                font-size: 28px;
            }
            
            .start-text h3 {
                font-size: 18px;
            }
            
            .play-icon-wrapper {
                width: 50px;
                height: 50px;
            }
            
            .play-icon-wrapper i {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    
    <header class="app-header">
        <div class="d-flex justify-content-between align-items-center">
            <div class="d-flex align-items-center">
                <div class="logo-small">
                    <i class="bi bi-lightning-charge-fill" style="color: white; font-size: 20px;"></i>
                </div>
                <div>
                    <h1 class="mb-0" style="font-size: 24px; font-weight: 700;">DanceBud</h1>
                    <p class="mb-0" style="font-size: 14px; color: #06b6d4;">Your AI Dance Coach</p>
                </div>
            </div>
            <button class="settings-btn" onclick="navigateToSettings()" aria-label="Settings">
                <i class="bi bi-gear" style="color: #3b82f6; font-size: 20px;"></i>
            </button>
        </div>
    </header>

    <main class="container" style="padding: 20px;">
        <div class="row g-3 mb-3">
            <div class="col-4">
                <div class="stat-card purple">
                    <div class="stat-icon">
                        <i class="bi bi-activity" style="color: #a855f7;"></i>
                    </div>
                    <div class="stat-value" id="total-sessions">0</div>
                    <div class="stat-label">Sessions</div>
                </div>
            </div>
            
            <div class="col-4">
                <div class="stat-card teal">
                    <div class="stat-icon">
                        <i class="bi bi-bullseye" style="color: #06b6d4;"></i>
                    </div>
                    <div class="stat-value" id="avg-score">0%</div>
                    <div class="stat-label">Avg Score</div>
                </div>
            </div>
            
            <div class="col-4">
                <div class="stat-card red">
                    <div class="stat-icon">
                        <i class="bi bi-graph-up-arrow" style="color: #ec4899;"></i>
                    </div>
                    <div class="stat-value" id="total-time">0m</div>
                    <div class="stat-label">Total Time</div>
                </div>
            </div>
        </div>

        <button class="start-practice-btn" onclick="startPractice()">
            <div class="start-practice-content">
                <div class="play-icon-wrapper">
                    <i class="bi bi-play-fill"></i>
                </div>
                <div class="start-text">
                    <h3>Start Practice</h3>
                    <p>Begin your dance session</p>
                </div>
            </div>
            <i class="bi bi-chevron-right arrow-icon"></i>
        </button>

        <div class="action-card" onclick="browseRoutines()">
            <div class="action-icon">
                <i class="bi bi-activity"></i>
            </div>
            <div class="action-text">
                <h4>Browse Routines</h4>
            </div>
            <i class="bi bi-chevron-right action-arrow"></i>
        </div>

        <div class="action-card" onclick="viewHistory()">
            <div class="action-icon" style="background: linear-gradient(135deg, rgba(6, 182, 212, 0.2), rgba(139, 92, 246, 0.2));">
                <i class="bi bi-clock-history" style="color: #06b6d4;"></i>
            </div>
            <div class="action-text">
                <h4>Session History</h4>
            </div>
            <i class="bi bi-chevron-right action-arrow"></i>
        </div>

        <div class="tip-card">
            <div class="tip-header">
                <i class="bi bi-lightning-charge-fill tip-icon"></i>
                <h3 class="tip-title">Pro Tip</h3>
            </div>
            <p class="tip-text" id="daily-tip">Keep your phone in landscape mode for better pose detection during practice sessions!</p>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            loadHomeStats();
        });

        function loadHomeStats() {
            const sessions = JSON.parse(localStorage.getItem('sessions') || '[]');
            
            if (sessions.length > 0) 
            {
                const totalSessions = sessions.length;
                const avgScore = sessions.reduce((sum, s) => sum + (s.avgPosture || 0), 0) / sessions.length;
                const totalSeconds = sessions.reduce((sum, s) => sum + (s.duration || 0), 0);
                const totalMinutes = Math.floor(totalSeconds / 60);
                const totalHours = Math.floor(totalMinutes / 60);
                
                // Update UI - Sessions
                document.getElementById('total-sessions').textContent = totalSessions;
                
                // Update UI - Average Score
                document.getElementById('avg-score').textContent = Math.round(avgScore) + '%';
                
                // Update UI - Total Time (format as hours if >= 60 mins)
                if (totalMinutes >= 60) {
                    document.getElementById('total-time').textContent = totalHours + 'h';
                } else {
                    document.getElementById('total-time').textContent = totalMinutes + 'm';
                }
            } else {
                document.getElementById('total-sessions').textContent = '0';
                document.getElementById('avg-score').textContent = '0%';
                document.getElementById('total-time').textContent = '0m';
            }
            
            showRandomTip();
        }

        function showRandomTip() {
            const tips = [
                'Keep your phone in landscape mode for better pose detection during practice sessions!',
                'Make sure you have good lighting for accurate motion tracking.',
                'Stand 3-4 feet away from your camera for optimal results.',
                'Warm up before each practice session to prevent injuries and improve performance.',
                'Consistency is key - practice a little every day for best results!',
                'Review your session history to track your progress over time.',
                'Try different music tempos to challenge yourself and improve rhythm.',
                'Stay hydrated during your dance sessions for peak performance!',
                'Grant camera and microphone permissions for the best experience.',
                'Practice in a clear space to avoid obstacles during your session.'
            ];
            
            const randomTip = tips[Math.floor(Math.random() * tips.length)];
            document.getElementById('daily-tip').textContent = randomTip;
        }

        // Navigation Functions
        function startPractice() {
            if (typeof Navigation !== 'undefined' && Navigation.navigate) {
                Navigation.navigate('practice');
            } else {
                window.location.href = 'practice.html';
            }
        }

        function browseRoutines() {
            if (typeof Navigation !== 'undefined' && Navigation.navigate) {
                Navigation.navigate('routines');
            } else {
                window.location.href = 'routines.html';
            }
        }

        function viewHistory() {
            if (typeof Navigation !== 'undefined' && Navigation.navigate) {
                Navigation.navigate('history');
            } else {
                window.location.href = 'history.html';
            }
        }

        function navigateToSettings() {
            if (typeof Navigation !== 'undefined' && Navigation.navigate) {
                Navigation.navigate('settings');
            } else {
               
                window.location.href = 'settings.html';
            }
        }
    </script>
</body>
</html>